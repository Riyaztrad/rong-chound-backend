"use strict";(self.webpackChunkrong_choung=self.webpackChunkrong_choung||[]).push([[641],{3732:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(8381),o=r(3112);function a(){return t.useContext(o.Z)}},4641:function(e,n,r){r.r(n),r.d(n,{default:function(){return H}});var t=r(4108),o=r(5861),a=r(9439),s=r(7606),i=r(2938),c=r(7625),u=r(5550),l=r(2046),d=r(1955),p=r(8708),h=r(2364),x=r(5283),m=r(9292),f=r(7134),Z=r(1047),v=r(2132),g=r(6472),w=r(1137),j=r(8437),b=r(8132),C=r(8381),S=r(2925),y=r(9343),O=(0,b.ZP)(Z.Z)({});function k(e){var n=e.name,r=e.type,t=e.value,o=e.disabled,a=e.error,s=e.label,i=e.onChange,c=e.onBlur,u=e.placeholder,l=e.required,d=e.style,p=e.helperText,h=e.icon,x=e.iconEnd;return(0,y.jsxs)(v.Z,{sx:d,children:[s&&(0,y.jsx)(g.Z,{htmlFor:n,sx:{color:"inherit",fontSize:{xs:"1rem",xl:"1.3rem",fontWeight:"500"}},children:s}),(0,y.jsx)(O,{"aria-describedby":"my-helper-text",color:"success",disabled:o,error:a,id:n,InputProps:{startAdornment:x?null:(0,y.jsx)(w.Z,{position:"start",children:h}),endAdornment:x?(0,y.jsx)(w.Z,{position:"end",children:h}):null},name:n,placeholder:u,required:l,sx:{backgroundColor:"#fff",borderRadius:"8px",fontSize:{xs:"1rem",xl:"1.3rem"}},type:r,value:t,variant:"outlined",onBlur:c,onChange:i}),p&&(0,y.jsx)(j.Z,{id:"my-helper-text",sx:{color:S.Z.error.dark},children:p})]})}k.defaultProps={style:{width:"100%",marginBottom:"10px"},helperText:""};var E=k,P=r(7174),T={LOGIN:{EMAIL:"Please enter your email",PASSWORD:"Please enter your password",SUCCESS:"Logged successful"}},L=r(5783),N=r(6092),A={username:"admin",password:"123456"},B=N.Ry().shape({username:N.Z_().required(T.LOGIN.EMAIL),password:N.Z_().required(T.LOGIN.PASSWORD)}),I=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A;return(0,L.TA)({initialValues:n,enableReinitialize:!0,validationSchema:B,validateOnChange:!0,validateOnBlur:!0,validateOnMount:!0,onSubmit:e})},_=r(3732),D=r(2231),R=r(2524),z=r(4055),G=r(8780),q=r(6920);function U(e){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",G.Z.post(q.Z.LOGIN,{username:n.username,password:n.password}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(){var e=function(){var e=(0,_.Z)(),n=(0,R.s0)(),r=(0,z.X$)().setUserCredential,a=function(){var a=(0,o.Z)((0,t.Z)().mark((function o(a){var s,i;return(0,t.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(a);case 3:return 200===(s=t.sent).status&&(r({token:s.data,isLoggedIn:!0}),n(D.Z.dashboard,{replace:!0}),null===e||void 0===e||e.show({title:T.LOGIN.SUCCESS,type:"success"})),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t.catch(0),i=t.t0.message||"Something went wrong",null===e||void 0===e||e.show({title:i,type:"error"}),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),o,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}();return{tryLogin:a}}(),n=e.tryLogin,r=(0,C.useState)(!1),Z=(0,a.Z)(r,2),v=Z[0],g=Z[1],w=function(){var e=(0,o.Z)((0,t.Z)().mark((function e(r){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(r);case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),j=I(w,{username:"",password:""}),b=j.handleBlur,O=j.handleChange,k=j.handleSubmit,L=j.values,N=j.errors,A=j.touched,B=(j.isValid,j.dirty,j.isSubmitting);return(0,y.jsx)(c.Z,{sx:{pt:7},children:(0,y.jsxs)(u.Z,{sx:{maxWidth:450,margin:"auto",padding:"20px",boxShadow:"none"},children:[(0,y.jsx)(l.Z,{component:"h1",sx:{paddingBottom:"1.75rem",textAlign:"center",color:"#070716",fontSize:"3rem"},variant:"h1",children:"Rongchuang"}),(0,y.jsxs)(d.Z,{sx:{color:S.Z.text.secondary},children:[(0,y.jsx)(E,{error:!!A.username&&!!N.username,helperText:A.username&&N&&N.username||"",label:"username ",placeholder:"username",value:L.username,onBlur:b("username"),onChange:O("username")}),(0,y.jsx)(E,{iconEnd:!0,error:!!A.password&&!!N.password,helperText:A.password&&N&&N.password||"",icon:(0,y.jsx)(p.Z,{onClick:function(){return g((function(e){return!e}))},children:v?(0,y.jsx)(s.Z,{}):(0,y.jsx)(i.Z,{})}),label:"Password",placeholder:"Password",type:v?"text":"password",value:L.password,onBlur:b("password"),onChange:O("password")})]}),(0,y.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center","& a":{textDecoration:"none",color:S.Z.info.light,"&:hover":{color:S.Z.info.dark}}},children:[(0,y.jsx)(l.Z,{component:"p",sx:{color:S.Z.text.secondary},children:(0,y.jsx)(h.Z,{control:(0,y.jsx)(x.Z,{defaultChecked:!0}),label:"Remember Me"})}),(0,y.jsx)(P.rU,{to:"/",children:(0,y.jsx)(l.Z,{children:"Forgot Password"})})]}),(0,y.jsx)(d.Z,{sx:{mt:2,width:"100%"},children:(0,y.jsx)(m.Z,{sx:{width:"inherit",backgroundColor:"#16166B",color:"white",height:"50px",fontSize:"16px",boxShadow:"none",":hover":{boxShadow:"none"}},variant:"contained",onClick:function(){return k()},children:B?(0,y.jsx)(f.Z,{color:"warning",size:12}):"Login"})})]})})}},8780:function(e,n,r){var t=r(222),o=r(9088),a=t.Z.create({headers:{"Content-Type":"application/json"}}),s=["login","reset-password","forgot-password","signup"],i=["upload"];a.interceptors.request.use((function(e){var n=s.some((function(n){return e.url.includes(n)})),r=i.some((function(n){return e.url.includes(n)})),t=o.h.getState().user.token;return n||(e.headers.Authorization="Bearer ".concat(t)),r&&(e.headers["Content-Type"]="multipart/form-data"),e}),(function(e){return Promise.reject(e)})),a.interceptors.response.use((function(e){return e.data.error?Promise.reject(e.data):Promise.resolve(e.data)}),(function(e){var n,r,t;return 401===(null===(n=e.response)||void 0===n?void 0:n.status)?Promise.reject(null===(t=e.response)||void 0===t?void 0:t.data):Promise.reject(null===(r=e.response)||void 0===r?void 0:r.data)})),n.Z=a},6920:function(e,n){var r="".concat("http://rongchoung-env.eba-phjqrtaz.us-east-1.elasticbeanstalk.com","/api"),t="admin/login",o="users",a="phonebook/getContacts",s="user",i="phonebook/saveContacts",c="contents",u="video/upload",l="content",d={LOGIN:"".concat(r,"/").concat(t),FETCH_USERS:"".concat(r,"/").concat(o),FETCH_PHONEBOOK:"".concat(r,"/").concat(a),ADD_USER:"".concat(r,"/").concat(s),ADD_PHONEBOOK:"".concat(r,"/").concat(i),GET_CONTENT:"".concat(r,"/").concat(c),ADD_CONTENT:"".concat(r,"/").concat(u),DELETE_CONTENT:"".concat(r,"/").concat(l)};n.Z=d}}]);
//# sourceMappingURL=641.fa90e987.chunk.js.map