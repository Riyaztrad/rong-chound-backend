"use strict";(self.webpackChunkrong_choung=self.webpackChunkrong_choung||[]).push([[692],{3732:function(n,e,t){t.d(e,{Z:function(){return i}});var r=t(8381),o=t(3112);function i(){return r.useContext(o.Z)}},2884:function(n,e,t){t.d(e,{N:function(){return c}});var r=t(6760),o=t(2844),i=t(9132);var c=function(){var n=[i.i.getContent];return(0,r.useQuery)(n,o.BE,{enabled:!0,refetchOnWindowFocus:!1})}},8692:function(n,e,t){t.r(e),t.d(e,{default:function(){return tn}});var r=t(3433),o=t(4108),i=t(5861),c=t(4942),a=t(1413),s=t(9439),u=t(8381),l=t(3555),d=t(5550),h=t(3381),f=t(2046),p=t(2754),x=t(8696),Z=t(3665),v=t(6472),g=t(1047),j=t(1955),m=t(9292),C=t(6768),b=t(2142),w=t(6563),y=t(4977),k=t(6520),T=t(8577),E=t(5283),D=t(597),O=t(5588),N=t(8708),P=t(2925),S=t(7342),_=t.n(S),F=t(4705),A=t(7759),B=t(2745),W=t(9343),z=u.forwardRef((function(n,e){return(0,W.jsx)(B.Z,(0,a.Z)({ref:e,direction:"left"},n))})),R=t(7351),M=t(6201),I=t(3940),Y=t(5987),H=t(8842),G=["title","textProps"];var Q=function(n){var e=n.title,t=(n.textProps,(0,Y.Z)(n,G));return(0,W.jsx)(H.Z,(0,a.Z)((0,a.Z)({variant:"contained",disableRipple:!0,sx:{padding:"10px 20px",color:"#ffff",boxShadow:"none","&:hover":{color:"#ffff",opacity:.8,boxShadow:"none"}}},t),{},{children:(0,W.jsx)(f.Z,{sx:{color:"#ffff"},children:e})}))},q=t(9916);var L=function(n){var e=n.open,t=n.children,r=n.size,o=n.noHeight,i=n.buttonTitle,c=n.title,s=n.handleOpen,u=n.handleManage;return(0,W.jsx)(j.Z,{sx:{backgroundColor:"#F6F7FB"},children:(0,W.jsxs)(A.Z,{fullWidth:!0,keepMounted:!0,"aria-describedby":"alert-dialog-slide-description",maxWidth:r||"lg",open:e,PaperProps:{sx:{margin:0,borderTopRightRadius:0,borderBottomRightRadius:0,height:o?null:"100vh",backgroundColor:"#F6F7FB"}},sx:{"& .MuiDialog-container.MuiDialog-scrollPaper":(0,a.Z)((0,a.Z)({justifyContent:"flex-end"},o&&{alignItems:"flex-start"}),{},{height:o?null:"auto"})},TransitionComponent:z,children:[(0,W.jsxs)(h.Z,{children:[(0,W.jsx)(f.Z,{component:"h5",variant:"h5",children:c}),(0,W.jsx)(N.Z,{"aria-label":"close",sx:{position:"absolute",right:8,top:8,color:"#8B0000"},onClick:function(){return s()},children:(0,W.jsx)(R.Z,{})})]}),(0,W.jsx)(x.Z,{children:t}),(0,W.jsx)(I.Z,{sx:{padding:"1.2rem 0",justifyContent:"center"},children:(0,W.jsxs)(Z.Z,{alignItems:"center",direction:"row",justifyContent:"center",spacing:2,children:[(0,W.jsx)(Q,{autoFocus:!0,loadingPosition:"start",startIcon:(0,W.jsx)(M.Z,{}),title:i||"",onClick:function(){return u()}}),(0,W.jsx)(q.Z,{autoFocus:!0,color:"error",startIcon:(0,W.jsx)(R.Z,{}),sxProps:{backgroundColor:"#8B0000",color:"#ffff",":hover":{backgroundColor:"#8b0000c2",opacity:.8,color:"#ffff"}},textProps:{sx:{color:"#ffff"}},title:"Cancel",onClick:function(){return s()}})]})})]})})},U=t(2132),K=t(2884),V=(t(5014),t(3732)),J=t(6760),X=t(2844),$=t(9132),nn=function(){var n=(0,V.Z)(),e=(0,J.useQueryClient)(),t=function(){var t=(0,i.Z)((0,o.Z)().mark((function t(r){var i,c,a;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(i=new FormData).append("file",r.file),i.append("title",r.title),t.next=6,(0,X.tc)(i);case 6:return 200===(c=t.sent).status&&(e.invalidateQueries([$.i.getContent]),null===n||void 0===n||n.show({title:c.message,type:"success"})),t.abrupt("return",!0);case 11:return t.prev=11,t.t0=t.catch(0),a=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||"Something went wrong",null===n||void 0===n||n.show({title:a,type:"error"}),t.abrupt("return",!1);case 16:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(n){return t.apply(this,arguments)}}(),r=function(){var t=(0,i.Z)((0,o.Z)().mark((function t(r){var i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,X.yd)(r);case 3:200===t.sent.status&&(e.invalidateQueries([$.i.getContent]),null===n||void 0===n||n.show({title:"Deleted Successfully!!!",type:"success"})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),i=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||"Something went wrong",null===n||void 0===n||n.show({title:i,type:"error"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(n){return t.apply(this,arguments)}}();return{saveContent:t,tryDeleteContent:r}};function en(n){var e=n.open,t=n.handleOpen,r=(0,u.useState)({}),l=(0,s.Z)(r,2),j=l[0],m=l[1],C=nn().saveContent,b=function(n){var e=n.target,t=e.name,r=e.value,o=e.files;n.preventDefault(),m((function(n){return(0,a.Z)((0,a.Z)({},n),{},(0,c.Z)({},t,"file"===t?o[0]:r))}))},w=function(){var n=(0,i.Z)((0,o.Z)().mark((function n(){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C(j);case 2:n.sent&&t();case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,W.jsx)(L,{buttonTitle:"Add Content",handleManage:function(){return w()},handleOpen:t,open:e,size:"sm",title:"Add New Content",children:(0,W.jsxs)(d.Z,{sx:{marginTop:"10%"},children:[(0,W.jsx)(h.Z,{children:(0,W.jsx)(f.Z,{component:"h3",sx:{fontSize:"1.3rem",fontWeight:"bold"},children:"Content"})}),(0,W.jsx)(p.Z,{}),(0,W.jsx)(x.Z,{children:(0,W.jsxs)(Z.Z,{direction:"column",gap:2,children:[(0,W.jsxs)(U.Z,{children:[(0,W.jsx)(v.Z,{children:"Content Name"}),(0,W.jsx)(g.Z,{name:"title",placeholder:"Ong bak(short video)",type:"text",variant:"outlined",onChange:b})]}),(0,W.jsxs)(U.Z,{children:[(0,W.jsx)(v.Z,{children:"File"}),(0,W.jsx)(g.Z,{name:"file",type:"file",variant:"outlined",onChange:b})]})]})})]})})}var tn=function(){var n,e=(0,u.useState)([]),t=(0,s.Z)(e,2),o=t[0],i=t[1],c=(0,u.useState)(!1),a=(0,s.Z)(c,2),d=a[0],h=a[1],p=(0,K.N)().data,x=nn().tryDeleteContent,v=(0,F.V)(),g=function(){h((function(n){return!n}))},S=function(n,e){var t=n.target.id;if(null!==p&&void 0!==p&&p.data){var c=[];c=e?[].concat((0,r.Z)(o),[t]):o.filter((function(n){return n!==t}))||[],i(c)}};return(0,W.jsxs)(j.Z,{sx:{minWidth:1050,overflow:"auto"},children:[(0,W.jsx)(en,{handleOpen:g,open:d}),(0,W.jsxs)(Z.Z,{alignItems:"center",direction:"row",justifyContent:"space-between",marginY:"20px",children:[(0,W.jsx)(f.Z,{component:"h2",sx:{fontSize:"2rem"},children:"All Contents"}),(0,W.jsx)(m.Z,{disableRipple:!0,sx:{padding:"10px 20px",boxShadow:"none",":hover":{boxShadow:"none"}},variant:"contained",onClick:function(){return g()},children:"Add Content"})]}),(0,W.jsx)(C.Z,{component:b.Z,children:(0,W.jsxs)(w.Z,{children:[(0,W.jsx)(y.Z,{sx:{backgroundColor:"#e1e1e1 !important","& th":{fontWeight:600}},children:(0,W.jsxs)(k.Z,{children:[(0,W.jsx)(T.Z,{padding:"checkbox",children:(0,W.jsx)(E.Z,{checked:o.length===(null===p||void 0===p?void 0:p.data.length),color:"primary",onChange:function(n){var e=n.target.checked;if(null!==p&&void 0!==p&&p.data){var t=[];t=e?p.data.map((function(n){return n._id})):[],i(t)}}})}),(0,W.jsx)(T.Z,{children:(0,W.jsx)(f.Z,{sx:{fontWeight:"bold"},children:"Title"})}),(0,W.jsx)(T.Z,{children:(0,W.jsx)(f.Z,{sx:{fontWeight:"bold"},children:"Video"})}),(0,W.jsx)(T.Z,{children:(0,W.jsx)(f.Z,{sx:{fontWeight:"bold"},children:"Created Date"})}),(0,W.jsx)(T.Z,{children:(0,W.jsx)(f.Z,{sx:{fontWeight:"bold"},children:"Actions"})})]})}),(0,W.jsx)(D.Z,{children:null===p||void 0===p||null===(n=p.data)||void 0===n?void 0:n.map((function(n){var e=n._id,t=n.title,r=n.url,i=n.createdAt;return(0,W.jsxs)(k.Z,{hover:!0,selected:-1!==o.indexOf(e),children:[(0,W.jsx)(T.Z,{padding:"checkbox",children:(0,W.jsx)(E.Z,{checked:-1!==o.indexOf(e),value:"true",onChange:S,id:e})}),(0,W.jsx)(T.Z,{children:(0,W.jsx)(f.Z,{sx:{textTransform:"capitalize"},children:t})}),(0,W.jsx)(T.Z,{children:(0,W.jsx)(O.Z,{component:"video",src:"".concat("http://rongchoung-env.eba-phjqrtaz.us-east-1.elasticbeanstalk.com","/").concat(r),sx:{width:"100px",height:"50px"}})}),(0,W.jsx)(T.Z,{children:(0,W.jsx)(f.Z,{children:_()(i).format("MM/DD/YYYY")})}),(0,W.jsx)(T.Z,{children:(0,W.jsx)(j.Z,{sx:{display:"flex",gap:1,"& svg":{cursor:"pointer"}},children:(0,W.jsx)(j.Z,{children:(0,W.jsx)(N.Z,{sx:{"&:hover":{color:P.Z.error.main}},onClick:function(){!function(n){null===v||void 0===v||v.show({title:"Confirmation",message:"Do you really want to delete?",cancelText:"No",confirmText:"Yes",onConfirm:function(){x(n)}})}(e)},children:(0,W.jsx)(l.Z,{sx:{fontSize:"1.5rem",color:P.Z.secondary.lightGray,"&:hover":{color:P.Z.error.main}}})})})})})]},e)}))})]})})]})}},8780:function(n,e,t){var r=t(222),o=t(9088),i=r.Z.create({headers:{"Content-Type":"application/json"}}),c=["login","reset-password","forgot-password","signup"],a=["upload"];i.interceptors.request.use((function(n){var e=c.some((function(e){return n.url.includes(e)})),t=a.some((function(e){return n.url.includes(e)})),r=o.h.getState().user.token;return e||(n.headers.Authorization="Bearer ".concat(r)),t&&(n.headers["Content-Type"]="multipart/form-data"),n}),(function(n){return Promise.reject(n)})),i.interceptors.response.use((function(n){return n.data.error?Promise.reject(n.data):Promise.resolve(n.data)}),(function(n){var e,t,r;return 401===(null===(e=n.response)||void 0===e?void 0:e.status)?Promise.reject(null===(r=n.response)||void 0===r?void 0:r.data):Promise.reject(null===(t=n.response)||void 0===t?void 0:t.data)})),e.Z=i},2844:function(n,e,t){t.d(e,{BE:function(){return d},tc:function(){return a},yd:function(){return u}});var r=t(4108),o=t(5861),i=t(8780),c=t(6920);function a(n){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",i.Z.post(c.Z.ADD_CONTENT,e));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function u(n){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",i.Z.delete("".concat(c.Z.DELETE_CONTENT,"/").concat(e)));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function d(){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)((0,r.Z)().mark((function n(){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",i.Z.get(c.Z.GET_CONTENT));case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},6920:function(n,e){var t="".concat("http://rongchoung-env.eba-phjqrtaz.us-east-1.elasticbeanstalk.com","/api"),r="admin/login",o="users",i="phonebook/getContacts",c="user",a="phonebook/saveContacts",s="contents",u="video/upload",l="content",d={LOGIN:"".concat(t,"/").concat(r),FETCH_USERS:"".concat(t,"/").concat(o),FETCH_PHONEBOOK:"".concat(t,"/").concat(i),ADD_USER:"".concat(t,"/").concat(c),ADD_PHONEBOOK:"".concat(t,"/").concat(a),GET_CONTENT:"".concat(t,"/").concat(s),ADD_CONTENT:"".concat(t,"/").concat(u),DELETE_CONTENT:"".concat(t,"/").concat(l)};e.Z=d},9132:function(n,e,t){t.d(e,{i:function(){return r}});var r={getUsers:"user.get",getPhonebook:"user.getPhonebook",getContent:"getContent"}}}]);
//# sourceMappingURL=692.47a92164.chunk.js.map